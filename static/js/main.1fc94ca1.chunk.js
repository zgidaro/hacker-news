(this["webpackJsonphacker-news-react"]=this["webpackJsonphacker-news-react"]||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(1),s=n(6),a=n.n(s),o=(n(16),n(2)),i=n(3),u=n(10),j=n(9),b=n(5),l=n.n(b),d=n(7),m=n(8),f=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(i.a)(this,n);for(var c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).baseUrl="https://hacker-news.firebaseio.com/v0",e.getTopStories=function(){return e.get("".concat(e.baseUrl,"/topstories.json"))},e.getItemById=function(t){return e.get("".concat(e.baseUrl,"/item/").concat(t,".json"))},e}return n}(function(){function e(){Object(i.a)(this,e)}return Object(m.a)(e,[{key:"get",value:function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then((function(e){return e.json()}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}()),h=function(e){var t=((new Date).getTime()-e.getTime())/1e3/60/60;if(t>24)return e.toLocaleDateString();if(t>1){var n=Math.round(t);return"".concat(n," hour").concat(n>2?"s":""," ago")}var c=Math.round(60*t);return"".concat(c," minute").concat(c>2?"s":""," ago")},O=(n(18),function(e){var t,n=function(e){var t=e.commentId,n=Object(r.useState)(),c=Object(o.a)(n,2),s=c[0],a=c[1],i=Object(r.useState)(""),u=Object(o.a)(i,2),j=u[0],b=u[1];return Object(r.useEffect)((function(){(new f).getItemById(t).then((function(e){a(e),b(h(new Date(1e3*e.time)))})).catch((function(e){}))}),[t]),{comment:s,commentTime:j}}(e),s=n.comment,a=n.commentTime;return!s||s.dead||s.deleted?null:Object(c.jsxs)("div",{className:"comment",children:[Object(c.jsxs)("span",{className:"story-subheadline",children:[Object(c.jsx)("b",{children:s.by})," ",a]}),Object(c.jsx)("br",{}),Object(c.jsx)("span",{dangerouslySetInnerHTML:{__html:null!==(t=null===s||void 0===s?void 0:s.text)&&void 0!==t?t:""}})]})}),x=(n(19),function(e){var t,n=function(e){var t=e.storyId,n=e.index,c=Object(r.useState)(),s=Object(o.a)(c,2),a=s[0],i=s[1],u=Object(r.useState)([]),j=Object(o.a)(u,2),b=j[0],l=j[1],d=Object(r.useState)(!1),m=Object(o.a)(d,2),O=m[0],x=m[1],v=Object(r.useState)(""),g=Object(o.a)(v,2),y=g[0],p=g[1],w=Object(r.useState)(""),I=Object(o.a)(w,2),S=I[0],k=I[1];Object(r.useEffect)((function(){(new f).getItemById(t).then((function(e){var t;i(e),l((null!==(t=e.kids)&&void 0!==t?t:[]).slice(0,20)),p(new URL(e.url).hostname),k(h(new Date(1e3*e.time)))})).catch((function(e){}))}),[t]);var T=Object(r.useCallback)((function(){x(!O)}),[O]);return{story:a,index:n,commentIds:b,showComments:O,storyUrlHostname:y,storyTime:S,toggleComments:T}}(e),s=n.story,a=n.index,i=n.commentIds,u=n.showComments,j=n.storyUrlHostname,b=n.storyTime,l=n.toggleComments;return!s||s.dead||s.deleted?null:Object(c.jsxs)("div",{className:"story-card",children:[Object(c.jsxs)("span",{className:"story-title",children:[a,". ",s.title]})," (",Object(c.jsx)("a",{href:s.url,target:"_blank",rel:"noreferrer",children:j}),")",Object(c.jsx)("br",{}),Object(c.jsxs)("span",{className:"story-subheadline",children:[s.score," points by ",Object(c.jsx)("b",{children:s.by})," ",b," | ",Object(c.jsx)("b",{children:null!==(t=s.descendants)&&void 0!==t?t:0})," comments"]}),!!s.descendants&&Object(c.jsx)("button",{onClick:l,children:u?"Hide":"Show"}),Object(c.jsx)("br",{}),u&&i.map((function(e){return Object(c.jsx)(O,{commentId:e},"comment_".concat(e))}))]})}),v=(n(20),function(){var e=function(){var e=Object(r.useState)([]),t=Object(o.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){(new f).getTopStories().then((function(e){c(e.slice(0,10))})).catch((function(e){}))}),[]),{stories:n}}().stories;return Object(c.jsx)("div",{className:"content-container",children:Object(c.jsx)("div",{className:"content",children:e.map((function(e,t){return Object(c.jsx)(x,{storyId:e,index:t+1},"story_".concat(e))}))})})}),g=(n(21),function(){return Object(c.jsx)("header",{className:"toolbar",children:Object(c.jsx)("h1",{children:"Hacker News"})})}),y=function(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(g,{}),Object(c.jsx)(v,{})]})},p=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,23)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),s(e),a(e)}))};a.a.render(Object(c.jsx)(y,{}),document.getElementById("root")),p()}],[[22,1,2]]]);
//# sourceMappingURL=main.1fc94ca1.chunk.js.map