(this["webpackJsonphacker-news-react"]=this["webpackJsonphacker-news-react"]||[]).push([[0],{18:function(e,t,n){},20:function(e,t,n){},21:function(e,t,n){},22:function(e,t,n){},23:function(e,t,n){},24:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(1),s=n(8),a=n.n(s),o=(n(18),n(3)),i=n.n(o),u=n(9),b=n(4),l=n(2),j=n(5),m=n(12),d=n(11),f=n(10),h=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(j.a)(this,n);for(var c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).baseUrl="https://hacker-news.firebaseio.com/v0",e.getTopStories=function(){return e.get("".concat(e.baseUrl,"/topstories.json"))},e.getItemById=function(t){return e.get("".concat(e.baseUrl,"/item/").concat(t,".json"))},e}return n}(function(){function e(){Object(j.a)(this,e)}return Object(f.a)(e,[{key:"get",value:function(){var e=Object(b.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("get: "+t),e.next=3,fetch(t).then((function(e){return e.json()}));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}()),O=function(e){var t=((new Date).getTime()-e.getTime())/1e3/60/60;if(t>24)return e.toLocaleDateString();if(t>1){var n=Math.round(t);return"".concat(n," hour").concat(n>2?"s":""," ago")}var c=Math.round(60*t);return"".concat(c," minute").concat(c>2?"s":""," ago")},v=(n(20),function(e){var t,n=function(e){var t=e.comment,n=Object(r.useState)(O(new Date(1e3*t.time)));return{comment:t,commentTime:Object(l.a)(n,1)[0]}}(e),s=n.comment,a=n.commentTime;return s?Object(c.jsxs)("div",{className:"comment",children:[Object(c.jsxs)("span",{className:"story-subheadline",children:[Object(c.jsx)("b",{children:s.by})," ",a]}),Object(c.jsx)("br",{}),Object(c.jsx)("span",{dangerouslySetInnerHTML:{__html:null!==(t=null===s||void 0===s?void 0:s.text)&&void 0!==t?t:""}})]}):null}),x=(n(21),function(e){var t,n=function(e){var t=e.storyId,n=e.index,c=Object(r.useState)(),s=Object(l.a)(c,2),a=s[0],o=s[1],j=Object(r.useState)([]),m=Object(l.a)(j,2),d=m[0],f=m[1],v=Object(r.useState)(!1),x=Object(l.a)(v,2),p=x[0],g=x[1],y=Object(r.useState)(""),k=Object(l.a)(y,2),w=k[0],S=k[1],I=Object(r.useState)(""),T=Object(l.a)(I,2),C=T[0],N=T[1];Object(r.useEffect)((function(){(new h).getItemById(t).then((function(e){o(e),S(new URL(e.url).hostname),N(O(new Date(1e3*e.time)))})).catch((function(e){}))}),[t]);var U=Object(r.useCallback)(Object(b.a)(i.a.mark((function e(){var t,n,c,r,s,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null===a||void 0===a?void 0:a.kids)&&!d.length){e.next=2;break}return e.abrupt("return");case 2:t=new h,e.prev=3,n=[],c=Object(u.a)(a.kids.slice(0,20)),e.prev=6,c.s();case 8:if((r=c.n()).done){e.next=16;break}return s=r.value,e.next=12,t.getItemById(s);case 12:o=e.sent,n.push(o);case 14:e.next=8;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(6),c.e(e.t0);case 21:return e.prev=21,c.f(),e.finish(21);case 24:f(n),e.next=29;break;case 27:e.prev=27,e.t1=e.catch(3);case 29:case"end":return e.stop()}}),e,null,[[3,27],[6,18,21,24]])}))),[null===a||void 0===a?void 0:a.kids,d]),B=Object(r.useCallback)((function(){g(!p),U()}),[p,U]);return{story:a,index:n,comments:d,showComments:p,storyUrlHostname:w,storyTime:C,toggleComments:B}}(e),s=n.story,a=n.index,o=n.comments,j=n.showComments,m=n.storyUrlHostname,d=n.storyTime,f=n.toggleComments;return s?Object(c.jsxs)("div",{className:"story-card",children:[Object(c.jsxs)("span",{className:"story-title",children:[a,". ",s.title]})," (",Object(c.jsx)("a",{href:s.url,target:"_blank",rel:"noreferrer",children:m}),")",Object(c.jsx)("br",{}),Object(c.jsxs)("span",{className:"story-subheadline",children:[s.score," points by ",Object(c.jsx)("b",{children:s.by})," ",d," | ",Object(c.jsx)("b",{children:null!==(t=s.descendants)&&void 0!==t?t:0})," comments"]}),!!s.descendants&&Object(c.jsx)("button",{onClick:f,children:j?"Hide":"Show"}),Object(c.jsx)("br",{}),j&&o.map((function(e){return Object(c.jsx)(v,{comment:e},"comment_".concat(e.id))}))]}):null}),p=(n(22),function(){var e=function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){(new h).getTopStories().then((function(e){c(e.slice(0,10))})).catch((function(e){}))}),[]),{stories:n}}().stories;return Object(c.jsx)("div",{className:"content-container",children:Object(c.jsx)("div",{className:"content",children:e.map((function(e,t){return Object(c.jsx)(x,{storyId:e,index:t+1},"story_".concat(e))}))})})}),g=(n(23),function(){return Object(c.jsx)("header",{className:"toolbar",children:Object(c.jsx)("h1",{children:"Hacker News"})})}),y=function(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(g,{}),Object(c.jsx)(p,{})]})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,25)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),s(e),a(e)}))};a.a.render(Object(c.jsx)(y,{}),document.getElementById("root")),k()}},[[24,1,2]]]);
//# sourceMappingURL=main.57e4a280.chunk.js.map