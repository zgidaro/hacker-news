(this["webpackJsonphacker-news-react"]=this["webpackJsonphacker-news-react"]||[]).push([[0],[,,,,,,,,,,,,,,,,function(t,e,n){},,function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var c=n(0),r=n(1),s=n(6),o=n.n(s),a=(n(16),n(2)),i=n(3),u=n(10),j=n(9),b=n(5),l=n.n(b),m=n(7),d=n(8),f=function(t){Object(u.a)(n,t);var e=Object(j.a)(n);function n(){var t;Object(i.a)(this,n);for(var c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))).baseUrl="https://hacker-news.firebaseio.com/v0",t.getTopStories=function(){return t.get("".concat(t.baseUrl,"/topstories.json"))},t.getItemById=function(e){return t.get("".concat(t.baseUrl,"/item/").concat(e,".json"))},t}return n}(function(){function t(){Object(i.a)(this,t)}return Object(d.a)(t,[{key:"get",value:function(){var t=Object(m.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e).then((function(t){return t.json()}));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),t}()),h=function(t){var e=((new Date).getTime()-t.getTime())/1e3/60/60;if(e>24)return t.toLocaleDateString();if(e>1){var n=Math.round(e);return"".concat(n," hour").concat(n>2?"s":""," ago")}var c=Math.round(60*e);return"".concat(c," minute").concat(c>2?"s":""," ago")},O=(n(18),function(t){var e,n=function(t){var e=t.commentId,n=Object(r.useState)(),c=Object(a.a)(n,2),s=c[0],o=c[1],i=Object(r.useState)(""),u=Object(a.a)(i,2),j=u[0],b=u[1];return Object(r.useEffect)((function(){(new f).getItemById(e).then((function(t){o(t),b(h(new Date(1e3*t.time)))})).catch((function(t){}))}),[e]),{comment:s,commentTime:j}}(t),s=n.comment,o=n.commentTime;return s?Object(c.jsxs)("div",{className:"comment",children:[Object(c.jsxs)("span",{className:"story-subheadline",children:[Object(c.jsx)("b",{children:s.by})," ",o]}),Object(c.jsx)("br",{}),Object(c.jsx)("span",{dangerouslySetInnerHTML:{__html:null!==(e=null===s||void 0===s?void 0:s.text)&&void 0!==e?e:""}})]}):null}),x=(n(19),function(t){var e,n=function(t){var e=t.storyId,n=t.index,c=Object(r.useState)(),s=Object(a.a)(c,2),o=s[0],i=s[1],u=Object(r.useState)([]),j=Object(a.a)(u,2),b=j[0],l=j[1],m=Object(r.useState)(!1),d=Object(a.a)(m,2),O=d[0],x=d[1],v=Object(r.useState)(""),g=Object(a.a)(v,2),y=g[0],p=g[1],w=Object(r.useState)(""),I=Object(a.a)(w,2),S=I[0],k=I[1];Object(r.useEffect)((function(){(new f).getItemById(e).then((function(t){var e;i(t),l((null!==(e=t.kids)&&void 0!==e?e:[]).slice(0,20)),p(new URL(t.url).hostname),k(h(new Date(1e3*t.time)))})).catch((function(t){}))}),[e]);var T=Object(r.useCallback)((function(){x(!O)}),[O]);return{story:o,index:n,commentIds:b,showComments:O,storyUrlHostname:y,storyTime:S,toggleComments:T}}(t),s=n.story,o=n.index,i=n.commentIds,u=n.showComments,j=n.storyUrlHostname,b=n.storyTime,l=n.toggleComments;return s?Object(c.jsxs)("div",{className:"story-card",children:[Object(c.jsxs)("span",{className:"story-title",children:[o,". ",s.title]})," (",Object(c.jsx)("a",{href:s.url,target:"_blank",rel:"noreferrer",children:j}),")",Object(c.jsx)("br",{}),Object(c.jsxs)("span",{className:"story-subheadline",children:[s.score," points by ",Object(c.jsx)("b",{children:s.by})," ",b," | ",Object(c.jsx)("b",{children:null!==(e=s.descendants)&&void 0!==e?e:0})," comments"]}),!!s.descendants&&Object(c.jsx)("button",{onClick:l,children:u?"Hide":"Show"}),Object(c.jsx)("br",{}),u&&i.map((function(t){return Object(c.jsx)(O,{commentId:t},"comment_".concat(t))}))]}):null}),v=(n(20),function(){var t=function(){var t=Object(r.useState)([]),e=Object(a.a)(t,2),n=e[0],c=e[1];return Object(r.useEffect)((function(){(new f).getTopStories().then((function(t){c(t.slice(0,10))})).catch((function(t){}))}),[]),{stories:n}}().stories;return Object(c.jsx)("div",{className:"content-container",children:Object(c.jsx)("div",{className:"content",children:t.map((function(t,e){return Object(c.jsx)(x,{storyId:t,index:e+1},"story_".concat(t))}))})})}),g=(n(21),function(){return Object(c.jsx)("header",{className:"toolbar",children:Object(c.jsx)("h1",{children:"Hacker News"})})}),y=function(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(g,{}),Object(c.jsx)(v,{})]})},p=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,23)).then((function(e){var n=e.getCLS,c=e.getFID,r=e.getFCP,s=e.getLCP,o=e.getTTFB;n(t),c(t),r(t),s(t),o(t)}))};o.a.render(Object(c.jsx)(y,{}),document.getElementById("root")),p()}],[[22,1,2]]]);
//# sourceMappingURL=main.a61539a2.chunk.js.map